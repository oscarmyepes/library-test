import {
  Meta,
  Story,
  Canvas,
  ArgsTable,
  Source,
} from '@storybook/addon-docs/blocks';
import FitmentSelector from '../../FitmentSelector';
import FitmentSelectorWrapper from '../../FitmentSelectorWrapper';
import {
  CustomSelectComp,
  SelectedValuesComp,
  ItemComp,
} from '../../FitmentSelector/stories/NestedInterfaces';
import dedent from 'ts-dedent';
import Select from 'react-select';
import styles from '../../FitmentSelector/stories/story.scss';
import { ImportStylesText } from '../../../stories/ImportStylesText.mdx';
import {
  WithCustomSelect,
  CodeExample,
  data,
  Summary,
} from '../../FitmentSelector/stories/FitmentSelectorDocs.mdx';

<Meta
  title="Wrappers/FitmentSelectorWrapper"
  component={FitmentSelectorWrapper}
/>

export const Template = (args) => <FitmentSelectorWrapper {...args} />;

# FitmentSelectorWrapper

<Summary />

If you want to use your own API, please have a look at [FitmentSelector](?path=/docs/components-fitmentselector--basic).

## Basic

<Canvas>
  <Story
    name="Basic"
    args={{
      orientation: 'vertical',
      selectedValues: { Year: '1', Make: '2', Model: '1' },
    }}
  >
    {(args) => {
      return <FitmentSelectorWrapper {...args} />;
    }}
  </Story>
</Canvas>

## Styled

If you pass the `styled` prop, you will see the component with basic styles, like spaces between drop-downs, colors and width/heights set with minimum values.

<Canvas>
  <Story name="Styled" args={{ orientation: 'vertical', styled: true }}>
    {(args) => {
      return <FitmentSelectorWrapper {...args} />;
    }}
  </Story>
</Canvas>

## Using custom select (react-select)

If you want to use a custom DropDown/Autocomplete/Select you can pass that component in the `components` property:

<Canvas>
  <Story
    name="Custom select"
    args={{
      className: 'react-select-custom',
      orientation: 'vertical',
      styled: true,
      autocommit: true,
      components: {
        select: (props) => <WithCustomSelect props={props} />,
      },
    }}
  >
    {(args) => {
      return <FitmentSelectorWrapper {...args} />;
    }}
  </Story>
</Canvas>

<CodeExample />

<ImportStylesText componentName="FitmentSelector" />

## Props FitmentSelectorWrapper

<ArgsTable of={FitmentSelectorWrapper} />

#### SelectedValues

This is the object received in the `onChange` and `onSubmit` callbacks.

```
[key: string]: number | string;
```

Each **key** will be the label name of each fitment selector.

#### CustomSelect

When you define a CustomSelelct like [here](#using-custom-select-react-select), your component will receive these properties:

<ArgsTable of={CustomSelectComp} />

#### Item

Object type for each option in the select used in CustomSelect properties.

<ArgsTable of={ItemComp} />

## ClassNames you can override

You can pass a className to the root element to customize styles:

<Source
  language="js"
  code={dedent`<FitmentSelectorWrapper className="my-class-name" />`}
/>

Also, you can override styles using specific class names:

```
// Class for each select element
.Sui-FitmentSelector--select {...}

// Class for buttons container
.Sui-FitmentSelector--actions {...}

// Class for seacrh button
.Sui-FitmentSelector--searchBtn {...}

// Class for clear button
.Sui-FitmentSelector--clearBtn {...}
```
